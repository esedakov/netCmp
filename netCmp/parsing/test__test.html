<html>
	<head>
		<script src="../external/jquery-1.11.3.min.js"></script>
		<link rel="stylesheet" type="text/css" href="test__test_css.css">
	</head>
	<body>
		<svg class="scene">
			<!--<line x1=50 y1=120 x2=550 y2=100></line>-->
		</svg>
		<div class="container">
			<div class="rect scope">
				<div class="rect info scope_info scope_header">
					<div>
						function: 1
					</div>
					<div class="scope_header_opts" style="display: none;">
						<span class="scope_opt">parent</span>
						<span class="scope_opt">children</span>
						<span class="scope_opt">start</span>
						<span class="scope_opt">end</span>
					</div>
				</div>
				<div class="rect block">
					<div class="rect info block_header">
						block: 2
					</div>
					<table class="rect codeblock">
						<tr class="command command_1">
							<td>C:1</td>
							<td
								def_1="1"
							>null 
								<span class="constval">'123'</span>
							</td>
						</tr>
						<tr class="command command_2">
							<td>C:2</td>
							<td
								def_1="2"
								def_2="1"
							>null 
								<span class="constval">'987'</span>
							</td>
						</tr>
						<tr class="command command_1">
							<td>C:3</td>
							<td 
								use_1="1"
								use_2="1"
								def_3="1"
							>add $1, $2</td>
						</tr>
						<tr class="command command_2">
							<td>C:4</td>
							<td 
								def_3="2"
								use_1="2"
							>mul $3 $1</td>
						</tr>
						<tr class="command command_1">
							<td>C:5</td>
							<td 
								def_4="1"
								use_2="2"
								use_1="3"
							>div $2 $1</td>
						</tr>
					</table>
				</div>
				<div class="rect info scope_info scope_tail">
					<div>
						<span class="symbol" id="symb_1">foo</span>
						<span class="symbol" id="symb_2">i</span>
						<span 
							class="symbol" 
							id="symb_3"
						>lcUnknownValue</span>
					</div>
					<div style="display: none;">
						<span 
							class="symbol"
							id="symb_4"
						>superVeryLongVariableName</span>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			$(document).ready(function(){
				//toggle scope header information
				$(".scope_header").hover(function(){
					//toggle options
					$(this).find(".scope_header_opts").slideToggle();
				});
				//toggle scope symbol (tail) information
				$(".scope_tail").hover(function(){
					//toggle DIVs starting from 2nd (1st DIV is always shown)
					$(this).find("div:gt(0)").slideToggle();
				});
				//attach click event to symbols to identify corresponding 
				//def and use chains
				$(".symbol").mousedown(function(){
					//extract symbol id
					var id = $(this).attr("id").substring(5);
					//in this scope find all def-TD's and highlight them
					$(this).closest(".scope").
						find("td[def_" + id + "]").
						css("color", "white");
					//in this scope find all use-TD's and highlight them
					$(this).closest(".scope").
						find("td[use_" + id + "]").
						css("color", "orange");
				});
				$(".symbol").mouseup(function(){
					//extract symbol id
					var id = $(this).attr("id").substring(5);
					//in this scope find all use/def-TD's and highlight them
					$(this).closest(".scope").
						find("td[def_" + id + "],td[use_" + id + "]").
						css("color", "black");
				});
			});
		</script>
	</body>
</html>